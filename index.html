<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Simone Arcari</title>
</head>

<body>

    <header>
        <h1 id="text"></h1>
    </header>

    <div class="prova">
        <p>Ciao a tutti, mi chiamo Simone, sono un ingegnere e sto creando il mio sito personale :)</p>
        <br>
        <p>Hi everybody, my name is Simone, I'm an engineer and I'm developing my personal website :)</p>
    </div>



    <div class="social-media">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
            integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

        <ul>
            <li>
                <a href="#">
                    <i class="fab fa-instagram icon"></i>
                </a>
            </li>

            <li>
                <a href="#">
                    <i class="fab fa-github icon"></i>
                </a>
            </li>

            <li>
                <a href="#">
                    <i class="fab fa-linkedin-in icon"></i>
                </a>
            </li>

        </ul>
    </div>

    <footer>

    </footer>


    <script>
        var writeTextEvent = new Event('writeText');

        const textEl = document.getElementById('text');
        const text = 'Simone Arcari - Computer Scinece/Automation Control Engineer';
        let idx = 1;
        let speed = 300 / 6;

    
        // Esegui il codice JavaScript quando la funzione writeText() termina il suo compito
        document.addEventListener('writeText', function () {
            setNextElementMarginTop();
        });

        // Esegui il codice JavaScript quando la pagina Ã¨ stata caricata
        document.addEventListener('DOMContentLoaded', function () {
            setNextElementMarginTop();
        });

        // Esegui il codice JavaScript quando la finestra del browser viene ridimensionata
        window.addEventListener('resize', function () {
            setNextElementMarginTop();
        });


        writeText();


        // Imposta il valore del margin-top dell'elemento subito sotto l'header
        function setNextElementMarginTop() {

            // ottiene altezza effettiva header
            var header = document.querySelector('header');
            var headerHeight = header.offsetHeight;

            // imposta il valore del margin-top di prova
            var nextElement = document.querySelector('.prova');
            nextElement.style.marginTop = headerHeight + 'px';
        }
  
        // Scrive un po' alla volta la classe 'text'
        function writeText() {
            textEl.innerText = text.slice(0, idx);
            idx++;
            if (idx <= text.length) {
                setTimeout(writeText, speed);
                document.dispatchEvent(writeTextEvent);
            }
        }
    </script>

</body>

</html>